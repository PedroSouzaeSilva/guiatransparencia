<div class="accordion-header">
  <button
    class="accordion-button collapsed px-3"
    type="button"
    data-bs-toggle="collapse"
    attr.data-bs-target="#topic{{ topicId }}-collapse"
    aria-expanded="false"
    attr.aria-controls="topic{{ topicId }}-collapse"
  >
    <div class="container row">
      <div class="col col-9">
        <h2>
          {{ topic.topic }}
        </h2>
      </div>
      <div class="col col-3 px-0">
        <div class="progress">
          <div
            class="progress-bar"
            role="progressbar"
            [ngStyle]="{ 'width': (topicSize - topicRating[4])/topicSize | percent }"
            aria-label="Taxa completude sobre #TODO"
            attr.aria-valuenow="{{ topicRating[0] }}"
            aria-valuemin="0"
            attr.aria-valuemax="{{ topicSize }}"
          >
            {{ (topicSize - topicRating[4])/topicSize | percent }}
          </div>
        </div>
      </div>
    </div>
  </button>
</div>
<div
  id="topic{{ topicId }}-collapse"
  class="accordion-collapse collapse mx-0 px-0"
  attr.aria-labelledby="accordion{{ topicId }}-heading"
>
  <div class="accordion-body px-3">
    <div class="row" style="margin: 0 24px 0 0;">
      <div class="col col-9">
        <div class="accordion my-2" id="accordion{{ topicId }}">
          <div
            *ngFor="let criteria of topic.criterias; let criteriaId = index"
            class="accordion-item"
          >
            <app-criteria
              [criteria]="criteria"
              [topicId]="topicId"
              [criteriaId]="criteriaId"
            ></app-criteria>
          </div>
        </div>
      </div>
      <div class="col col-3">
        <canvas
          baseChart
          [type]="'pie'"
          [datasets]="[{data: topicRating}]"
          [labels]="pieChartLabels"
          [options]="pieChartOptions"
          [plugins]="pieChartPlugins"
          [legend]="pieChartLegend"
        >
        </canvas>
      </div>
    </div>
  </div>
</div>
